<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Gi·ªè h√†ng</title>
    <link rel="stylesheet" href="styles cart.css">
</head>
<body>
<header>
    <div class="nav-left">
        <div class="logo">Black Bird</div>
        <a href="#">V·ªÅ Black Bird</a>
        <div class="dropdown">
            <a href="header.html">S·∫£n ph·∫©m</a>
            <div class="dropdown-content">
                <a href="#">ƒê·ªì u·ªëng</a>
                <a href="#">B√°nh ng·ªçt</a>
            </div>
        </div>
        <a href="#">Blog</a>
        <a href="#">Social</a>
    </div>
    <div class="nav-right">
        <a href="#">Login</a>
        <a href="cart.html">üõí</a>
    </div>
</header>

<div class="cart-container">
    <h2>Gi·ªè h√†ng c·ªßa b·∫°n</h2>
    <div id="cart-items"></div>
    <div class="total">
        T·ªïng c·ªông: <span id="total-price">0</span> VND
    </div>
    <button onclick="checkout()">Thanh to√°n</button>
</div>

<script>
    function loadCart() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartItemsContainer = document.getElementById("cart-items");
        cartItemsContainer.innerHTML = "";

        let totalPrice = 0;

        cart.forEach((item, index) => {
            const itemTotalPrice = item.price * item.quantity;
            totalPrice += itemTotalPrice;

            const itemDiv = document.createElement("div");
            itemDiv.classList.add("cart-item");
            itemDiv.innerHTML = `
                <span>${item.name}</span>
                <span>Gi√°: ${item.price.toLocaleString("vi-VN")} VND</span>
                <input type="number" min="1" value="${item.quantity}" onchange="updateQuantity(${index}, this.value)" />
                <span>T·ªïng: ${itemTotalPrice.toLocaleString("vi-VN")} VND</span>
                <button onclick="removeItem(${index})">X√≥a</button>
            `;

            cartItemsContainer.appendChild(itemDiv);
        });

        document.getElementById("total-price").innerText = totalPrice.toLocaleString("vi-VN");
    }

    function updateQuantity(index, newQuantity) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        cart[index].quantity = parseInt(newQuantity);
        localStorage.setItem("cart", JSON.stringify(cart));
        loadCart();
    }

    function removeItem(index) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        cart.splice(index, 1);
        localStorage.setItem("cart", JSON.stringify(cart));
        loadCart();
    }

    function checkout() {
        alert("C·∫£m ∆°n b·∫°n ƒë√£ mua h√†ng!");
        localStorage.removeItem("cart");
        loadCart();
    }

    window.onload = loadCart;
</script>

</body>
</html>
